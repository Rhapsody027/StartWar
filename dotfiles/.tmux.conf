# è¨­å®šå‰ç¶´éµç‚º C-a
set-option -g prefix C-a
unbind-key C-b
bind-key C-a send-prefix

# å‚ç›´åˆ†å‰²
bind-key | split-window -h

# æ°´å¹³åˆ†å‰²
bind-key _ split-window -v

# ä½¿ç”¨ h, j, k, l ä¾†åˆ‡æ›é¢æ¿
bind-key -r h select-pane -L
bind-key -r j select-pane -D
bind-key -r k select-pane -U
bind-key -r l select-pane -R

# å¿«é€Ÿé‡æ–°è¼‰å…¥ tmux é…ç½®
bind-key r source-file ~/.tmux.conf \; display-message "tmux.conf reloaded"

# åŒæ­¥æ‰€æœ‰é¢æ¿çš„è¼¸å…¥
bind-key y setw synchronize-panes \; display-message "Sync Panes are now #{?pane_synchronized,on,off}"

# å¿«é€Ÿé€€å‡º tmux æœƒè©±
bind-key x kill-session \; display-message "Session killed"

# è¨­å®š tmux çš„çµ‚ç«¯é¡å‹ç‚º screen-256color
set -g xterm-keys on
set -g default-terminal "screen-256color"
set -g terminal-overrides 'xterm-256color:colors=256'

# å•Ÿç”¨æ»‘é¼ æ”¯æ´ï¼ˆå¯é¸ï¼‰
set -g mouse on

# åŠ è¼‰ TPM
set -g @plugin 'tmux-plugins/tpm'

# å®‰è£ TPM æ’ä»¶
run '~/.tmux/plugins/tpm/tpm'

# Refresh status line every 2 seconds
set -g status-interval 2

# Start window and pane indices at 1.
set -g base-index 1
set -g pane-base-index 0

# Status line length
set -g status-left-length 30
set -g status-right-length 150
set-option -g status on

# Statusbar base style
set-option -g status-style bg=#1a1b26,fg=#8bd450

# Window title (inactive)
set-window-option -g window-status-style bg=#1a1b26,fg=#565f89

# Activity window title
set-window-option -g window-status-activity-style bg=#1a1b26,fg=#7aa2f7

# Active window title
set-window-option -g window-status-current-style bg=#7aa2f7,fg=#1a1b26

# Pane border
set-option -g pane-border-style fg=#414868
set-option -g pane-active-border-style fg=#7aa2f7

# Messages
set-option -g message-style bg=#1a1b26,fg=#8bd450
set-option -g message-command-style bg=#1a1b26,fg=#8bd450

# Pane numbers
set-option -g display-panes-active-colour #875fd7
set-option -g display-panes-colour #1a1b26

# Clock
set-window-option -g clock-mode-colour #8bd450

# Bell
set-window-option -g window-status-bell-style bg=#f7768e,fg=#875fd7

# Status left (session name + zoom)
set-option -g status-left "\
#[fg=#8bd450,bg=#414868]#{?client_prefix,#[bg=#f7768e],} â #S \
#[fg=#414868,bg=#1a1b26]#{?client_prefix,#[fg=#f7768e],}î‚°#{?window_zoomed_flag, ğŸ”,}"

# Status right (music + uptime + time) with EVA ç´«
set-option -g status-right "\
#[fg=#875fd7, bg=#1a1b26]î‚²\
#[fg=#1a1b26, bg=#875fd7] ï‡« #(~/dotfiles/tmux_scripts/network.sh) \
#[fg=#1a1b26, bg=#875fd7]î‚²\
#[fg=#875fd7, bg=#1a1b26]î‚²\
#[fg=#1a1b26, bg=#875fd7] î‰¦ #(~/dotfiles/tmux_scripts/mem.sh) \
#[fg=#1a1b26, bg=#875fd7]î‚²\
#[fg=#875fd7, bg=#1a1b26]î‚²\
#[fg=#1a1b26, bg=#875fd7] ï‹› #(~/dotfiles/tmux_scripts/cpu.sh) \
#[fg=#1a1b26, bg=#875fd7]î‚²\
#[fg=#875fd7, bg=#1a1b26]î‚²\
#[fg=#1a1b26, bg=#875fd7] ï†’ #(~/dotfiles/tmux_scripts/proc.sh) \
#[fg=#1a1b26, bg=#875fd7]î‚²\
#[fg=#875fd7, bg=#1a1b26]î‚²\
#[fg=#1a1b26, bg=#875fd7] ï„• #(pwd | sed 's|/home/rhapsody|~|') "

# Active window format
set-window-option -g window-status-current-format "\
#[fg=#1a1b26, bg=#875fd7]î‚°\
#[fg=#8bd450, bg=#875fd7] #I* î‚±\
#[fg=#8bd450, bg=#875fd7, bold] #W \
#[fg=#875fd7, bg=#1a1b26]î‚°"

# Inactive window format
set-window-option -g window-status-format "\
#[fg=#1a1b26, bg=#414868,noitalics]î‚°\
#[fg=#8bd450, bg=#414868] #I î‚±\
#[fg=#8bd450, bg=#414868] #W \
#[fg=#414868, bg=#1a1b26]î‚°"

# History scrollback
setw -g history-limit 50000000
